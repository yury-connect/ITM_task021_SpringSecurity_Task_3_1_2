<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>View user page</title>
        <style>
            /* Убираем избыточные inline-стили и добавляем CSS классы */
            .table-header {
                width: 200px;
                background-color: lightcyan;
                text-align: center;
            }
            .table-data {
                width: 500px;
                text-align: center;
            }
            .section-header {
                background-color: aqua;
                text-align: center;
            }
            .button-container {
                width: 200px;
                text-align: center;
            }
        </style>
    </head>

    <body>
        <h1>View user:</h1>

        <!-- Таблица для отображения данных пользователя -->
        <table border="5">

            <!-- Заголовок таблицы -->
            <tr>
                <td class="table-header">Parameter</td>
                <td class="table-header">Value</td>
            </tr>

            <!-- Информация о пользователе -->
            <tr>
                <td class="section-header" colspan="2">User Info:</td>
            </tr>
            <tr>
                <td>User Id</td>
                <td th:text="${viewed_user.getId()}">User Id</td>
            </tr>
            <tr>
                <td>User Name // Login</td>
                <td th:text="${viewed_user.getUserName()}">User Name</td>
            </tr>
            <tr>
                <td>Password</td>
                <td th:text="${viewed_user.getPassword()}">Password</td>
            </tr>
            <tr>
                <td>Email</td>
                <td th:text="${viewed_user.getEmail()}">Email</td>
            </tr>
            <tr>
                <td>Roles</td>
                <td>
                <table border="0">
                    <tr th:each="role : ${viewed_user.getRoles()}">
                        <td th:text="${role}">Role</td>
                    </tr>
                </table>
                </td>
            </tr>

            <!-- Личная информация -->
            <tr>
                <td class="section-header" colspan="2">Personal Info:</td>
            </tr>
            <tr>
                <td>Full Name</td>
                <td th:text="${viewed_user.getFullName()}">Full Name</td>
            </tr>
            <tr>
                <td>Date of Birth</td>
                <td th:text="${viewed_user.getDateBirth()}">Date of Birth</td>
            </tr>
            <tr>
                <td>Address</td>
                <td th:text="${viewed_user.getAddress()}">Address</td>
            </tr>
        </table>
        <br/> <br/> <br/>

        <!-- Кнопки управления -->
        <table border="0">
            <tr>
                <!-- Кнопка редактирования пользователя -->
                <td class="button-container">
                    <form method="GET" th:action="@{/authenticated/admin/edit}">
                        <input type="hidden" name="id_edited_user" th:value="${viewed_user.id}" />
                        <input type="submit" value="-= Edit =-"/>
                    </form>
                </td>

                <!-- Кнопка удаления пользователя (с изменением метода на POST) -->
                <td class="button-container">
                    <form method="POST" th:action="@{/authenticated/admin/delete}">
                        <input type="hidden" name="id_removed_user" th:value="${viewed_user.id}" />
                        <input type="hidden" name="_method" value="DELETE"/>
                        <button type="submit">-= Delete =-</button>
                    </form>
                </td>

                <!-- Кнопка отмены и возврата ко всем пользователям -->
                <td class="button-container">
                    <form method="GET" th:action="@{/authenticated/admin/all}">
                        <input type="submit" value="-= Cancel =-"/>
                    </form>
                </td>
            </tr>
        </table>
        <br/> <br/> <hr/> <br/> <br/>

        <!-- Кнопка разлогинивания -->
        <form th:method="GET" th:action="@{/logout}" accept-charset="UTF-8">
            <input type="submit" value="-= LogOut =-" />
        </form>
        <br/> <br/> <hr/> <br/> <br/>

    </body>
</html>